

  services:
    # ----------------------------------------------------------------------
    # MariaDB Database Service
    # This section defines the MariaDB database container.
    # ----------------------------------------------------------------------
    db:
      image: mariadb:10.6 # The Docker image to use for MariaDB.
        # You can choose a specific version like 10.6, 10.11, 11.x, or 12.x.
      # Always prefer a specific version over 'latest' for stability.
      container_name: mariadb-container # A human-readable name for the database container.
      environment:
        # Environment variables for MariaDB setup.
        # These are used by the MariaDB image to initialize the database.
        MARIADB_ROOT_PASSWORD: "pass" # !!! IMPORTANT: Change this to a strong, secure password.
        MARIADB_DATABASE: "app"     # !!! IMPORTANT: The name of the database your Java app will use.
        MARIADB_USER: "app_user"              # !!! IMPORTANT: The username for your Java app to connect with.
        MARIADB_PASSWORD: "userpass"      # !!! IMPORTANT: The password for the database user.
      ports:
        # Port mapping: "HOST_PORT:CONTAINER_PORT"
        # This exposes the MariaDB port from the container to your host machine.
        # You can connect to MariaDB from your host (e.g., with DataGrip) via localhost:3306.
        - "3306:3306"
      volumes:
        # Data persistence: Use a named volume to store MariaDB data.
        # This ensures your database data is not lost when the container is stopped or removed.
        - db_data:/var/lib/mysql # 'db_data' is the named volume defined at the bottom of this file.

  volumes:
    db_data: